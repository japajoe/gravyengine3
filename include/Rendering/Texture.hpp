#ifndef GRAVYENGINE_TEXTURE_HPP
#define GRAVYENGINE_TEXTURE_HPP

#include "../Core/Object.hpp"
#include <cstdint>
#include <string>
#include <exception>

namespace GravyEngine
{
    enum class TextureWrapMode : uint32_t
    {
        LinearMipmapLinear = 9987,
        Repeat = 10497,
        ClampToBorder = 33069,
        ClampToBorderArb = 33069,
        ClampToBorderSgis = 33069,
        ClampToEdge = 33071,
        ClampToEdgeSgis = 33071,
        MirroredRepeat = 33648
    };

    enum class TextureMinFilter : uint32_t
    {
        Nearest = 9728,
        Linear = 9729,
        NearestMipmapNearest = 9984,
        LinearMipmapNearest = 9985,
        NearestMipmapLinear = 9986,
        LinearMipmapLinear = 9987,
        Filter4Sgis = 33094,
        LinearClipmapLinearSgix = 33136,
        NearestClipmapNearestSgix = 33869,
        NearestClipmapLinearSgix = 33870,
        LinearClipmapNearestSgix = 33871
    };

    enum class TextureMagFilter : uint32_t
    {
        Nearest = 9728,
        Linear = 9729,
        LinearDetailSgis = 32919,
        LinearDetailAlphaSgis = 32920,
        LinearDetailColorSgis = 32921,
        LinearSharpenSgis = 32941,
        LinearSharpenAlphaSgis = 32942,
        LinearSharpenColorSgis = 32943,
        Filter4Sgis = 33094
    };

    enum class InternalFormat : uint32_t
    {
        StencilIndex = 6401,
        DepthComponent = 6402,
        Red = 6403,
        Rgb = 6407,
        Rgba = 6408,
        R3G3B2 = 10768,
        Alpha4Ext = 32827,
        Alpha8Ext = 32828,
        Alpha12Ext = 32829,
        Alpha16Ext = 32830,
        Luminance4Ext = 32831,
        Luminance8Ext = 32832,
        Luminance12Ext = 32833,
        Luminance16Ext = 32834,
        Luminance4Alpha4Ext = 32835,
        Luminance6Alpha2Ext = 32836,
        Luminance8Alpha8Ext = 32837,
        Luminance12Alpha4Ext = 32838,
        Luminance12Alpha12Ext = 32839,
        Luminance16Alpha16Ext = 32840,
        Intensity4Ext = 32842,
        Intensity8Ext = 32843,
        Intensity12Ext = 32844,
        Intensity16Ext = 32845,
        Rgb2Ext = 32846,
        Rgb4 = 32847,
        Rgb4Ext = 32847,
        Rgb5 = 32848,
        Rgb5Ext = 32848,
        Rgb8 = 32849,
        Rgb8Ext = 32849,
        Rgb10 = 32850,
        Rgb10Ext = 32850,
        Rgb12 = 32851,
        Rgb12Ext = 32851,
        Rgb16 = 32852,
        Rgb16Ext = 32852,
        Rgba2 = 32853,
        Rgba2Ext = 32853,
        Rgba4 = 32854,
        Rgba4Ext = 32854,
        Rgb5A1 = 32855,
        Rgb5A1Ext = 32855,
        Rgba8 = 32856,
        Rgba8Ext = 32856,
        Rgb10A2 = 32857,
        Rgb10A2Ext = 32857,
        Rgba12 = 32858,
        Rgba12Ext = 32858,
        Rgba16 = 32859,
        Rgba16Ext = 32859,
        DualAlpha4Sgis = 33040,
        DualAlpha8Sgis = 33041,
        DualAlpha12Sgis = 33042,
        DualAlpha16Sgis = 33043,
        DualLuminance4Sgis = 33044,
        DualLuminance8Sgis = 33045,
        DualLuminance12Sgis = 33046,
        DualLuminance16Sgis = 33047,
        DualIntensity4Sgis = 33048,
        DualIntensity8Sgis = 33049,
        DualIntensity12Sgis = 33050,
        DualIntensity16Sgis = 33051,
        DualLuminanceAlpha4Sgis = 33052,
        DualLuminanceAlpha8Sgis = 33053,
        QuadAlpha4Sgis = 33054,
        QuadAlpha8Sgis = 33055,
        QuadLuminance4Sgis = 33056,
        QuadLuminance8Sgis = 33057,
        QuadIntensity4Sgis = 33058,
        QuadIntensity8Sgis = 33059,
        DepthComponent16 = 33189,
        DepthComponent16Arb = 33189,
        DepthComponent16Sgix = 33189,
        DepthComponent24 = 33190,
        DepthComponent24Arb = 33190,
        DepthComponent24Sgix = 33190,
        DepthComponent32 = 33191,
        DepthComponent32Arb = 33191,
        DepthComponent32Sgix = 33191,
        CompressedRed = 33317,
        CompressedRg = 33318,
        Rg = 33319,
        R8 = 33321,
        R8Ext = 33321,
        R16 = 33322,
        Rg8 = 33323,
        Rg8Ext = 33323,
        Rg16 = 33324,
        R16f = 33325,
        R16fExt = 33325,
        R32f = 33326,
        R32fExt = 33326,
        Rg16f = 33327,
        Rg16fExt = 33327,
        Rg32f = 33328,
        Rg32fExt = 33328,
        R8i = 33329,
        R8ui = 33330,
        R16i = 33331,
        R16ui = 33332,
        R32i = 33333,
        R32ui = 33334,
        Rg8i = 33335,
        Rg8ui = 33336,
        Rg16i = 33337,
        Rg16ui = 33338,
        Rg32i = 33339,
        Rg32ui = 33340,
        CompressedRgbS3tcDxt1Ext = 33776,
        CompressedRgbaS3tcDxt1Ext = 33777,
        CompressedRgbaS3tcDxt3Ext = 33778,
        CompressedRgbaS3tcDxt5Ext = 33779,
        CompressedRgb = 34029,
        CompressedRgba = 34030,
        DepthStencil = 34041,
        DepthStencilExt = 34041,
        DepthStencilNv = 34041,
        Rgba32f = 34836,
        Rgba32fArb = 34836,
        Rgba32fExt = 34836,
        Rgb32f = 34837,
        Rgb32fArb = 34837,
        Rgb32fExt = 34837,
        Rgba16f = 34842,
        Rgba16fArb = 34842,
        Rgba16fExt = 34842,
        Rgb16f = 34843,
        Rgb16fArb = 34843,
        Rgb16fExt = 34843,
        Depth24Stencil8 = 35056,
        Depth24Stencil8Ext = 35056,
        R11fG11fB10f = 35898,
        R11fG11fB10fExt = 35898,
        Rgb9E5 = 35901,
        Rgb9E5Ext = 35901,
        Srgb = 35904,
        SrgbExt = 35904,
        Srgb8 = 35905,
        Srgb8Ext = 35905,
        SrgbAlpha = 35906,
        SrgbAlphaExt = 35906,
        Srgb8Alpha8 = 35907,
        Srgb8Alpha8Ext = 35907,
        CompressedSrgb = 35912,
        CompressedSrgbAlpha = 35913,
        CompressedSrgbS3tcDxt1Ext = 35916,
        CompressedSrgbAlphaS3tcDxt1Ext = 35917,
        CompressedSrgbAlphaS3tcDxt3Ext = 35918,
        CompressedSrgbAlphaS3tcDxt5Ext = 35919,
        DepthComponent32f = 36012,
        Depth32fStencil8 = 36013,
        StencilIndex1 = 36166,
        StencilIndex1Ext = 36166,
        StencilIndex4 = 36167,
        StencilIndex4Ext = 36167,
        StencilIndex8 = 36168,
        StencilIndex8Ext = 36168,
        StencilIndex16 = 36169,
        StencilIndex16Ext = 36169,
        Rgb565 = 36194,
        Rgba32ui = 36208,
        Rgba32uiExt = 36208,
        Rgb32ui = 36209,
        Rgb32uiExt = 36209,
        Alpha32uiExt = 36210,
        Intensity32uiExt = 36211,
        Luminance32uiExt = 36212,
        LuminanceAlpha32uiExt = 36213,
        Rgba16ui = 36214,
        Rgba16uiExt = 36214,
        Rgb16ui = 36215,
        Rgb16uiExt = 36215,
        Alpha16uiExt = 36216,
        Intensity16uiExt = 36217,
        Luminance16uiExt = 36218,
        LuminanceAlpha16uiExt = 36219,
        Rgba8ui = 36220,
        Rgba8uiExt = 36220,
        Rgb8ui = 36221,
        Rgb8uiExt = 36221,
        Alpha8uiExt = 36222,
        Intensity8uiExt = 36223,
        Luminance8uiExt = 36224,
        LuminanceAlpha8uiExt = 36225,
        Rgba32i = 36226,
        Rgba32iExt = 36226,
        Rgb32i = 36227,
        Rgb32iExt = 36227,
        Alpha32iExt = 36228,
        Intensity32iExt = 36229,
        Luminance32iExt = 36230,
        LuminanceAlpha32iExt = 36231,
        Rgba16i = 36232,
        Rgba16iExt = 36232,
        Rgb16i = 36233,
        Rgb16iExt = 36233,
        Alpha16iExt = 36234,
        Intensity16iExt = 36235,
        Luminance16iExt = 36236,
        LuminanceAlpha16iExt = 36237,
        Rgba8i = 36238,
        Rgba8iExt = 36238,
        Rgb8i = 36239,
        Rgb8iExt = 36239,
        Alpha8iExt = 36240,
        Intensity8iExt = 36241,
        Luminance8iExt = 36242,
        LuminanceAlpha8iExt = 36243,
        DepthComponent32fNv = 36267,
        Depth32fStencil8Nv = 36268,
        CompressedRedRgtc1 = 36283,
        CompressedRedRgtc1Ext = 36283,
        CompressedSignedRedRgtc1 = 36284,
        CompressedSignedRedRgtc1Ext = 36284,
        CompressedRedGreenRgtc2Ext = 36285,
        CompressedRgRgtc2 = 36285,
        CompressedSignedRedGreenRgtc2Ext = 36286,
        CompressedSignedRgRgtc2 = 36286,
        CompressedRgbaBptcUnorm = 36492,
        CompressedRgbaBptcUnormArb = 36492,
        CompressedSrgbAlphaBptcUnorm = 36493,
        CompressedSrgbAlphaBptcUnormArb = 36493,
        CompressedRgbBptcSignedFloat = 36494,
        CompressedRgbBptcSignedFloatArb = 36494,
        CompressedRgbBptcUnsignedFloat = 36495,
        CompressedRgbBptcUnsignedFloatArb = 36495,
        R8Snorm = 36756,
        Rg8Snorm = 36757,
        Rgb8Snorm = 36758,
        Rgba8Snorm = 36759,
        R16Snorm = 36760,
        Rg16Snorm = 36761,
        Rgb16Snorm = 36762,
        Rgba16Snorm = 36763,
        Sr8Ext = 36797,
        Srg8Ext = 36798,
        Rgb10A2ui = 36975,
        CompressedR11Eac = 37488,
        CompressedSignedR11Eac = 37489,
        CompressedRg11Eac = 37490,
        CompressedSignedRg11Eac = 37491,
        CompressedRgb8Etc2 = 37492,
        CompressedSrgb8Etc2 = 37493,
        CompressedRgb8PunchthroughAlpha1Etc2 = 37494,
        CompressedSrgb8PunchthroughAlpha1Etc2 = 37495,
        CompressedRgba8Etc2Eac = 37496,
        CompressedSrgb8Alpha8Etc2Eac = 37497,
        CompressedRgbaAstc4x4Khr = 37808,
        CompressedRgbaAstc5x4Khr = 37809,
        CompressedRgbaAstc5x5Khr = 37810,
        CompressedRgbaAstc6x5Khr = 37811,
        CompressedRgbaAstc6x6Khr = 37812,
        CompressedRgbaAstc8x5Khr = 37813,
        CompressedRgbaAstc8x6Khr = 37814,
        CompressedRgbaAstc8x8Khr = 37815,
        CompressedRgbaAstc10x5Khr = 37816,
        CompressedRgbaAstc10x6Khr = 37817,
        CompressedRgbaAstc10x8Khr = 37818,
        CompressedRgbaAstc10x10Khr = 37819,
        CompressedRgbaAstc12x10Khr = 37820,
        CompressedRgbaAstc12x12Khr = 37821,
        CompressedSrgb8Alpha8Astc4x4Khr = 37840,
        CompressedSrgb8Alpha8Astc5x4Khr = 37841,
        CompressedSrgb8Alpha8Astc5x5Khr = 37842,
        CompressedSrgb8Alpha8Astc6x5Khr = 37843,
        CompressedSrgb8Alpha8Astc6x6Khr = 37844,
        CompressedSrgb8Alpha8Astc8x5Khr = 37845,
        CompressedSrgb8Alpha8Astc8x6Khr = 37846,
        CompressedSrgb8Alpha8Astc8x8Khr = 37847,
        CompressedSrgb8Alpha8Astc10x5Khr = 37848,
        CompressedSrgb8Alpha8Astc10x6Khr = 37849,
        CompressedSrgb8Alpha8Astc10x8Khr = 37850,
        CompressedSrgb8Alpha8Astc10x10Khr = 37851,
        CompressedSrgb8Alpha8Astc12x10Khr = 37852,
        CompressedSrgb8Alpha8Astc12x12Khr = 37853
    };

    enum class PixelFormat : uint32_t
    {
        UnsignedShort = 5123,
        UnsignedInt = 5125,
        StencilIndex = 6401,
        DepthComponent = 6402,
        Red = 6403,
        Green = 6404,
        Blue = 6405,
        Alpha = 6406,
        Rgb = 6407,
        Rgba = 6408,
        AbgrExt = 32768,
        CmykExt = 32780,
        CmykaExt = 32781,
        Bgr = 32992,
        BgrExt = 32992,
        Bgra = 32993,
        BgraExt = 32993,
        Ycrcb422Sgix = 33211,
        Ycrcb444Sgix = 33212,
        Rg = 33319,
        RgInteger = 33320,
        DepthStencil = 34041,
        RedInteger = 36244,
        GreenInteger = 36245,
        BlueInteger = 36246,
        RgbInteger = 36248,
        RgbaInteger = 36249,
        BgrInteger = 36250,
        BgraInteger = 36251
    };

    enum class PixelType : uint32_t
    {
        Byte = 5120,
        UnsignedByte = 5121,
        Short = 5122,
        UnsignedShort = 5123,
        Int = 5124,
        UnsignedInt = 5125,
        Float = 5126,
        HalfApple = 5131,
        HalfFloat = 5131,
        HalfFloatArb = 5131,
        HalfFloatNv = 5131,
        UnsignedByte332 = 32818,
        UnsignedByte332Ext = 32818,
        UnsignedShort4444 = 32819,
        UnsignedShort4444Ext = 32819,
        UnsignedShort5551 = 32820,
        UnsignedShort5551Ext = 32820,
        UnsignedInt8888 = 32821,
        UnsignedInt8888Ext = 32821,
        UnsignedInt1010102 = 32822,
        UnsignedInt1010102Ext = 32822,
        UnsignedByte233Rev = 33634,
        UnsignedShort565 = 33635,
        UnsignedShort565Rev = 33636,
        UnsignedShort4444Rev = 33637,
        UnsignedShort1555Rev = 33638,
        UnsignedInt8888Rev = 33639,
        UnsignedInt2101010Rev = 33640,
        UnsignedInt248 = 34042,
        UnsignedInt248Ext = 34042,
        UnsignedInt248Nv = 34042,
        UnsignedInt10f11f11fRev = 35899,
        UnsignedInt10f11f11fRevExt = 35899,
        UnsignedInt5999Rev = 35902,
        UnsignedInt5999RevExt = 35902,
        Float32UnsignedInt248Rev = 36269,
        Float32UnsignedInt248RevNv = 36269
    };

    enum class TextureTarget : uint32_t
    {
        Texture1d = 3552,
        Texture2d = 3553,
        ProxyTexture1d = 32867,
        ProxyTexture1dExt = 32867,
        ProxyTexture2d = 32868,
        ProxyTexture2dExt = 32868,
        Texture3d = 32879,
        Texture3dExt = 32879,
        ProxyTexture3d = 32880,
        ProxyTexture3dExt = 32880,
        DetailTexture2dSgis = 32917,
        Texture4dSgis = 33076,
        ProxyTexture4dSgis = 33077,
        TextureRectangle = 34037,
        TextureRectangleArb = 34037,
        TextureRectangleNv = 34037,
        ProxyTextureRectangle = 34039,
        ProxyTextureRectangleArb = 34039,
        ProxyTextureRectangleNv = 34039,
        TextureCubeMap = 34067,
        TextureCubeMapArb = 34067,
        TextureCubeMapExt = 34067,
        TextureCubeMapPositiveX = 34069,
        TextureCubeMapPositiveXArb = 34069,
        TextureCubeMapPositiveXExt = 34069,
        TextureCubeMapNegativeX = 34070,
        TextureCubeMapNegativeXArb = 34070,
        TextureCubeMapNegativeXExt = 34070,
        TextureCubeMapPositiveY = 34071,
        TextureCubeMapPositiveYArb = 34071,
        TextureCubeMapPositiveYExt = 34071,
        TextureCubeMapNegativeY = 34072,
        TextureCubeMapNegativeYArb = 34072,
        TextureCubeMapNegativeYExt = 34072,
        TextureCubeMapPositiveZ = 34073,
        TextureCubeMapPositiveZArb = 34073,
        TextureCubeMapPositiveZExt = 34073,
        TextureCubeMapNegativeZ = 34074,
        TextureCubeMapNegativeZArb = 34074,
        TextureCubeMapNegativeZExt = 34074,
        ProxyTextureCubeMap = 34075,
        ProxyTextureCubeMapArb = 34075,
        ProxyTextureCubeMapExt = 34075,
        Texture1dArray = 35864,
        ProxyTexture1dArray = 35865,
        ProxyTexture1dArrayExt = 35865,
        Texture2dArray = 35866,
        ProxyTexture2dArray = 35867,
        ProxyTexture2dArrayExt = 35867,
        TextureBuffer = 35882,
        Renderbuffer = 36161,
        TextureCubeMapArray = 36873,
        TextureCubeMapArrayArb = 36873,
        ProxyTextureCubeMapArray = 36875,
        ProxyTextureCubeMapArrayArb = 36875,
        Texture2dMultisample = 37120,
        ProxyTexture2dMultisample = 37121,
        Texture2dMultisampleArray = 37122,
        ProxyTexture2dMultisampleArray = 37123
    };

    class TextureException : public std::exception 
    {
    public:
        TextureException(const char* message) : message_(message) {}

        const char* what() const noexcept override 
        {
            return message_.c_str();
        }
    private:
        std::string message_;
    };

    enum class TextureType
    {
        Texture2D,
        Texture2DArray,
        Cubemap
    };

    class Texture : public Object
    {
    public:
        Texture();
        virtual ~Texture();
        uint32_t GetId() const;
        void *GetHandle() const;
        uint32_t GetWidth() const;
        uint32_t GetHeight() const;
        TextureType GetType() const;
        virtual void Bind(uint32_t unit);
        virtual void Unbind();
        virtual void Delete();
    protected:
        uint32_t id;
        uint32_t width;
        uint32_t height;
        TextureType type;
    };
};

#endif